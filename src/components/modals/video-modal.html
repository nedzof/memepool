<!-- Video Modal -->
<div id="videoModal" class="modal neon-theme" style="display: none;">
    <div class="w-full max-w-md rounded-xl overflow-hidden relative" 
         style="background: linear-gradient(135deg, #0c0620 0%, #120c34 50%, #1a1147 100%); 
                border: 1px solid rgba(255, 0, 255, 0.3);
                box-shadow: 0 0 30px rgba(255, 0, 255, 0.2)">
        <button class="modal-close absolute top-4 right-4 text-white hover:text-white/80 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <div class="p-6">
            <h2 class="text-2xl font-bold mb-6 text-center" 
                style="background: linear-gradient(45deg, #ff00ff, #00ffff);
                       -webkit-background-clip: text;
                       -webkit-text-fill-color: transparent;
                       text-shadow: 0 0 10px rgba(255, 0, 255, 0.3)">
                Create Your Video
            </h2>

            <div id="modalContent">
                <!-- Upload step -->
                <div id="uploadStep">
                    <div class="rounded-lg overflow-hidden relative p-1 mb-4" 
                         style="background: linear-gradient(45deg, #ff00ff, #00ffff);
                                box-shadow: 0 0 20px rgba(255, 0, 255, 0.2)">
                        <div id="dropZone" class="w-full h-64 rounded-lg flex flex-col items-center justify-center p-4 border-2 border-dashed border-white/30 hover:border-white/50 transition-colors">
                            <svg class="w-12 h-12 mb-4 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <p class="text-white/70 text-center mb-2">Drag and drop your video here or</p>
                            <label class="cursor-pointer px-4 py-2 rounded-lg text-white font-bold transition-all duration-300 hover:scale-105"
                                   style="background: linear-gradient(45deg, #ff00ff, #00ffff);">
                                Browse Files
                                <input type="file" id="fileInput" class="hidden" accept="video/mp4,video/webm">
                            </label>
                            <p class="text-white/50 text-sm mt-2">Max: 5 seconds, 100MB (MP4, WebM)</p>
                            <p class="text-white/40 text-xs mt-1 italic">Note: Larger files require higher network fees for inscription</p>
                        </div>
                    </div>
                    <div id="uploadError" class="hidden text-red-500 text-sm mb-4"></div>
                    <div id="uploadProgress" class="hidden">
                        <div class="h-2 rounded-full overflow-hidden" style="background: rgba(255, 0, 255, 0.1);">
                            <div id="progressBar" class="h-full transition-all duration-300"
                                 style="background: linear-gradient(45deg, #ff00ff, #00ffff); width: 0%">
                            </div>
                        </div>
                        <p id="progressText" class="text-white/70 text-sm mt-1 text-center">0%</p>
                    </div>
                </div>

                <!-- Processing step -->
                <div id="processingStep" class="hidden">
                    <div class="space-y-4">
                        <!-- Processing status -->
                        <div class="flex items-center justify-between p-3 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                            <span id="processingStatus" class="text-white">Processing video...</span>
                            <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>
                        </div>

                        <!-- Video metadata -->
                        <div class="space-y-2">
                            <h3 class="text-white/70 mb-2">Video Information</h3>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Duration</span>
                                    <p id="videoDuration" class="text-white font-mono">--:--</p>
                                </div>
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Format</span>
                                    <p id="videoFormat" class="text-white font-mono">---</p>
                                </div>
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Resolution</span>
                                    <p id="videoResolution" class="text-white font-mono">----x----</p>
                                </div>
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Bitrate</span>
                                    <p id="videoBitrate" class="text-white font-mono">--- Kbps</p>
                                </div>
                            </div>
                        </div>

                        <!-- Processing steps -->
                        <div class="space-y-2">
                            <div id="stepVerification" class="flex items-center space-x-2 text-white/70">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path class="hidden check-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    <path class="animate-spin spinner-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v4m0 4v4m-4-3h4m4 0h-4m8-4a8 8 0 11-16 0 8 8 0 0116 0z" />
                                </svg>
                                <span>Format verification</span>
                            </div>
                            <div id="stepMetadata" class="flex items-center space-x-2 text-white/70">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path class="hidden check-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    <path class="animate-spin spinner-icon hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v4m0 4v4m-4-3h4m4 0h-4m8-4a8 8 0 11-16 0 8 8 0 0116 0z" />
                                </svg>
                                <span>Extracting metadata</span>
                            </div>
                            <div id="stepThumbnail" class="flex items-center space-x-2 text-white/70">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path class="hidden check-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    <path class="animate-spin spinner-icon hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v4m0 4v4m-4-3h4m4 0h-4m8-4a8 8 0 11-16 0 8 8 0 0116 0z" />
                                </svg>
                                <span>Generating thumbnail</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Preview step -->
                <div id="previewStep" class="hidden">
                    <div class="rounded-lg overflow-hidden relative p-1 mb-4" 
                         style="background: linear-gradient(45deg, #ff00ff, #00ffff);
                                box-shadow: 0 0 20px rgba(255, 0, 255, 0.2)">
                        <video 
                            id="previewVideo"
                            src=""
                            controls
                            class="w-full rounded-lg">
                        </video>
                    </div>

                    <!-- Video Information -->
                    <div class="mb-4 space-y-2">
                        <div class="grid grid-cols-2 gap-2">
                            <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                <span class="text-white/50 text-sm">Duration</span>
                                <p id="previewDuration" class="text-white font-mono">--:--</p>
                            </div>
                            <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                <span class="text-white/50 text-sm">Format</span>
                                <p id="previewFormat" class="text-white font-mono">---</p>
                            </div>
                            <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                <span class="text-white/50 text-sm">Resolution</span>
                                <p id="previewResolution" class="text-white font-mono">----x----</p>
                            </div>
                            <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                <span class="text-white/50 text-sm">Bitrate</span>
                                <p id="previewBitrate" class="text-white font-mono">--- Kbps</p>
                            </div>
                        </div>
                        <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                            <span class="text-white/50 text-sm">File Size</span>
                            <p id="previewSize" class="text-white font-mono">-- MB</p>
                        </div>
                    </div>

                    <!-- Inscription Data -->
                    <div class="mb-4">
                        <h3 class="text-white/70 mb-2 font-semibold">Inscription Details</h3>
                        <div class="space-y-2">
                            <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                <span class="text-white/50 text-sm">Content ID</span>
                                <p id="inscriptionId" class="text-white font-mono text-sm break-all">---</p>
                                <p class="text-white/40 text-xs mt-1 italic">Note: Final ID will be derived from blockchain data</p>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Creator</span>
                                    <p id="inscriptionCreator" class="text-white font-mono">---</p>
                                </div>
                                <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                                    <span class="text-white/50 text-sm">Timestamp</span>
                                    <p id="inscriptionTimestamp" class="text-white font-mono">---</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fee Estimation -->
                    <div class="mb-4">
                        <h3 class="text-white/70 mb-2 font-semibold">Network Fee</h3>
                        <div class="p-2 rounded-lg" style="background: rgba(255, 0, 255, 0.1);">
                            <span class="text-white/50 text-sm">Estimated Fee</span>
                            <p id="estimatedFee" class="text-white font-mono">--- BSV</p>
                            <div id="feeDetails"></div>
                            <p class="text-white/40 text-xs mt-1 italic">Note: Actual fee may vary based on network conditions</p>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button 
                            id="startOver"
                            class="flex-1 py-3 rounded-lg font-bold transition-all duration-300 hover:scale-105 text-white"
                            style="background: rgba(255, 0, 255, 0.1);
                                   border: 1px solid rgba(255, 0, 255, 0.3);
                                   box-shadow: 0 0 15px rgba(255, 0, 255, 0.2)">
                            Start Over
                        </button>
                        <button 
                            id="signBroadcast"
                            class="flex-1 py-3 rounded-lg font-bold transition-all duration-300 hover:scale-105 text-white"
                            style="background: linear-gradient(45deg, #ff00ff, #00ffff);
                                   box-shadow: 0 0 15px rgba(255, 0, 255, 0.5)">
                            Sign & Broadcast
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 